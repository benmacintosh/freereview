<!doctype html>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>

<link rel="stylesheet" href="static/general.css">


<script src="/freereview/static/props.js">
		console.log('index props')
</script>

<script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAaNyRz5BSZ3sfKiPUDuYStmZCxQjt14qo&callback=initMap"></script>

<script src="/freereview/static/mapcode.js"></script>






<head>
	<title>free_rev</title>
</head>

<div class="header">
	  <img src="static/logo.png" height="100"></img>
  <h1>The <a href="/freereview/free.html">Free</a> Review of Propositions</h1>
</div>








<script>
	console.log('index scripts running')
	console.log('test')

	var favicon = document.querySelector('link[rel="shortcut icon"]');

	if(!favicon){
		favicon = document.createElement('link');
		favicon.setAttribute('rel', "shortcut icon");
		var head = document.querySelector('head');
		head.appendChild(favicon)
	}

	favicon.setAttribute('type','image/png');
	var nextUrl = window.location.href;
	var lastIndex = nextUrl.lastIndexOf("/");
	var righthome = nextUrl.slice(0,lastIndex);
	favicon.setAttribute('href',righthome+"/static/favicon.ico");

	if (nextUrl.charAt(nextUrl.length-1) !== "l"){
		console.log("not rticle");
		console.log(righthome)
		console.log('length..')
		console.log(righthome+"/"+props.length+".html")
		window.location.href = righthome+"/"+props.length+".html";
	}

	// console.log('propslength')
	// console.log(props.length)
</script>




<!-- <link rel="shortcut icon" type="image/x-icon" href= "window.location + static/favicon.ico")/>
 -->








<body>


	<section>

	<div id = "map" style = "height: 200px;align-self: stretch;"></div>

	<!-- send map to this triagnle -->

	
	<div style="text-align: center">
	<div id="props">
	<span id = "p1"></span>
	<div></div>
	<span id = "p2"></span>
	<div></div>
	<span id = "p3"></span>
	</div>
</div>	






<p>

	Edited by <a href="https://www.instagram.com/maddie100000000/">Ben Macintosh</a> (quietist/ anti-realist) and <a href="https://twitter.com/fields_unsown">Hector Ramage</a> (anti-anti-pragmatist/ modal realist).

	<div id="end"></div>

	</section>



<div id = "pn" style="float: right;"></div>













<!-- SET SOME THINGS FOR THE ARTICLE -->


<script src="/freereview/static/props.js">
</script>

<script src="/freereview/static/mapcode.js"></script>

<script>


var nextUrl = window.location.href;
var lastIndex = nextUrl.lastIndexOf("/");
console.log(lastIndex)
var number = parseInt(nextUrl.slice(lastIndex+1,-5));
var theseProps = props[number-1];
console.log(number)



var pageNumber = String(1700-number)+"/1700";
document.getElementById("pn").innerHTML = pageNumber;
document.getElementById("p1").innerHTML = theseProps[0];
if(theseProps.length>3){
	document.getElementById("p2").innerHTML = theseProps[2];
}
if(theseProps.length>5){
	document.getElementById("p3").innerHTML = theseProps[4];
}
document.getElementById("end").innerHTML = theseProps[theseProps.length-1];






// and chagne bounds

console.log(theseProps)


console.log('map inside articel')
console.log(map)

var bounds = new google.maps.LatLngBounds();
console.log(bounds)

bounds.extend(theseProps[1]);

if(theseProps.length>3){
	bounds.extend(theseProps[3]);
}
if(theseProps.length>5){
	bounds.extend(theseProps[5]);
}

map.fitBounds(bounds);
console.log(map)
map.panToBounds(bounds);	



</script>








</body>



